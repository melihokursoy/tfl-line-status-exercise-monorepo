# TFL Line Status Excersise Monorepo

<a alt="Nx logo" href="https://nx.dev" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/nrwl/nx/master/images/nx-logo.png" width="45"></a>

✨ **This workspace has been generated by [Nx, Smart Monorepos](https://nx.dev)** ✨


## Prerequisites

In order to use it you will need to register for a developer key here: [https://api-portal.tfl.gov.uk/](https://api-portal.tfl.gov.uk)

create or update `apps/line-status-app/.env` file as seen below

```
NX_TFL_APP_ID="YOUR_APP_ID"
NX_TFL_APP_KEY="YOUR_APP_KEY"
...
```


## How to start the application

Install dependencies with `npm i`

Run `npx nx serve line-status-app` to start the development server on http://localhost:4200

## How to build for production

Run `npx nx build line-status-app` to build the application. The build artifacts are stored in the output directory (e.g. `dist/app/line-status-app`), ready to be deployed.

## UI Library 

You can check UI Library with: 

```
npx nx run ui:storybook --port 6006
```
or visit ithub pages at 
https://melihokursoy.github.io/tfl-line-status-exercise-monorepo/?path=/story/line-status-list--default

You can run ui library tests:

```
npx nx run ui:test-storybook --url http://localhost:6006/ 
```

## How to run tests

You can run tests:

```
npx nx run line-status-app:test
```

You can run end to end tests:

```
npx nx run line-status-app-e2e:e2e
```

...or you can open cypress with

```
npx nx run line-status-app-e2e:open-cypress
```


## Assumptions & Related Information

- status is presented as a coma separated values of the lineStatusees array in the response.
- used cypress-axe for automated accesibikity testing
- used react query for state management
- used quicktype to generate ts type 
    ```
    quicktype apps/line-status-app/src/mocks/apiResponse.json -o apps/line-status-app/src/app/types/lineStatusApiresponseItem.ts
    ```



